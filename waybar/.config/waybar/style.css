@keyframes blink-warning {
  70% { color: @light; }
  to  { color: @light; background-color: @warning; }
}

@keyframes blink-critical {
  70% { color: @light; }
  to  { color: @light; background-color: @critical; }
}

/* -----------------------------------------------------------------------------
 * COLORS — ALL COLORS USED IN THIS FILE
 * -------------------------------------------------------------------------- */

@define-color bg                #2E3440;
@define-color light             #D8DEE9;

@define-color nord_bg_blue      #434C5E;
@define-color workspacesfocused #4C566A;

@define-color warning           #ebcb8b;
@define-color critical          #BF616A;

@define-color bt_idle           #f9e2af;
@define-color bt_connected      #88C0D0;
@define-color bt_disabled       #6c7086;

@define-color net_connected     #a6e3a1;
@define-color net_linked        #f9e2af;
@define-color net_disconnected  #f38ba8;

@define-color pa_muted_bg       #BF616A;
@define-color pa_source_muted   #D08770;

/* -----------------------------------------------------------------------------
 * GLOBAL RESET
 * -------------------------------------------------------------------------- */

* {
  border: none;
  min-height: 0;
}

/* Automatically pill every module */
#waybar .module {
  margin: 0.12em 0.3em;
  padding: 0.25em 0.6em;
  border-radius: 3px;
}

/* -----------------------------------------------------------------------------
 * WAYBAR
 * -------------------------------------------------------------------------- */

#waybar {
  background: transparent;
  color: @light;
  font-family: "MesloLGM Nerd Font", "Cantarell", "Font Awesome 5 Pro";
  font-size: 14px;
  font-weight: bold;
}

/* -----------------------------------------------------------------------------
 * MODULE PADDING
 * -------------------------------------------------------------------------- */

#tray,
#language,
#pulseaudio,
#clock,
#custom-notifications,
#custom-power {
  padding: 0.25em 0.6em;
}

/* -----------------------------------------------------------------------------
 * MODULE STYLES
 * -------------------------------------------------------------------------- */

#tray {
  background: @nord_bg_blue;
}

#language {
  background: @nord_bg_blue;
  color: @light;
  min-width: 20px;
  padding: 1px 0.6em;
}

#clock {
  background: @nord_bg_blue;
  color: @light;
}

#pulseaudio {
  background: @nord_bg_blue;
  color: @light;
}

#pulseaudio.muted {
  background: @pa_muted_bg;
  color: @pa_muted_bg;
}

#pulseaudio.source-muted {
  background: @pa_source_muted;
  color: @light;
}

#network {
  padding: 0.0em 0.0em;
}
#bluetooth {
  padding: 0.0em 0.0em;
}
#system,
#connectivity {
  background: @nord_bg_blue;
  color: @light;
}
#custom-power,
#custom-notifications {
  background: @nord_bg_blue;
  color: @light;
  font-weight: bold;
}

#custom-power {
  min-width: 1.0rem;
}
/* -----------------------------------------------------------------------------
 * WORKSPACES
 * -------------------------------------------------------------------------- */

#workspaces {
  background: @bg;
  padding: 0 0.4em;
  border-radius: 3px;
}

#workspaces button {
  font-weight: bold;
  padding: 0 0.35em;
  margin: 0.1em 0.15em;
  opacity: 0.7;
  background: transparent;
  font-size: 1em;
}

#workspaces button.active,
#workspaces button.focused {
  background: @workspacesfocused;
  color: @light;
  opacity: 1;
}

#workspaces button.urgent {
  background: @critical;
  color: @light;
  opacity: 1;
}

/* -----------------------------------------------------------------------------
 * BLUETOOTH STATES
 * -------------------------------------------------------------------------- */

#bluetooth {
  color: @bt_idle;
  font-size: 1.2em;
}

#bluetooth.connected {
  color: @bt_connected;
}

#bluetooth.disabled {
  color: @bt_disabled;
}

/* -----------------------------------------------------------------------------
 * NETWORK STATES
 * -------------------------------------------------------------------------- */

#network {
  font-size: 1.2em;
}

#network.wifi,
#network.ethernet {
  color: @net_connected;
}

#network.linked {
  color: @net_linked;
}

#network.disconnected {
  color: @net_disconnected;
}

/* -----------------------------------------------------------------------------
 * CONNECTIVITY
 * -------------------------------------------------------------------------- */
/* --- CONNECTIVITY GROUP (container pill) --- */
#connectivity {
  background: @nord_bg_blue;
  color: @light;

  /* make it behave like other pills even if it isn't .module */
  margin: 0.12em 0.3em;
  padding: 0.25em 0.45em;
  border-radius: 3px;
}

/* --- CHILD MODULES INSIDE CONNECTIVITY (tight spacing) --- */
#connectivity #network,
#connectivity #bluetooth {
  /* kill the global .module spacing inside the group */
  margin: 0;
  padding: 0 0.5em;
  background: transparent;
  border-radius: 0;
}

/* optional: slightly smaller icons inside the group */
#connectivity #network,
#connectivity #bluetooth {
  font-size: 1.25em; /* tweak to taste */
}

#system {
  background: @nord_bg_blue;
  color: @light;
  font-size: 1.2em;
  /* make it behave like other pills even if it isn't .module */
  margin: 0.12em 0.3em;
  padding: 0.25em 0.45em;
  border-radius: 3px;
}

/* Kill per-module “pill” spacing INSIDE the group */
#system .module {
  margin: 0em;
  padding: 0em;
  background: transparent;
  border-radius: 0;
}
